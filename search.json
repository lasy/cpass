[{"path":"https://lasy.github.io/cpass/articles/cpass_vignette.html","id":"installation-of-the-cpass-package","dir":"Articles","previous_headings":"","what":"Installation of the cpass package","title":"Introduction to the `cpass` package","text":"Currently, cpass package hosted package author’s github repository. install github, install load package devtool running: install load cpass package running: Note cpass package depends several packages (mostly packages tidyverse suite). vignette also uses tidyverse functions recommended install load tidyverse suite running: Alternatively, individual packages can loaded independently:","code":"install.packages(\"devtools\") library(devtools) devtools::install_github(\"lasy/cpass\", dependencies = TRUE) library(cpass) install.packages(\"tidyverse\") library(tidyverse) library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union library(ggplot2) library(purrr) library(tibble) library(tidyr) library(stringr) library(magrittr) #>  #> Attaching package: 'magrittr' #> The following object is masked from 'package:tidyr': #>  #>     extract #> The following object is masked from 'package:purrr': #>  #>     set_names"},{"path":"https://lasy.github.io/cpass/articles/cpass_vignette.html","id":"demo-dataset","dir":"Articles","previous_headings":"","what":"Demo dataset","title":"Introduction to the `cpass` package","text":"explore cpass package, use demo dataset data (daily ratings) 20 subjects. demo dataset attached cpass package documented ?PMDD_data. load data environment, run:","code":"d <- PMDD_data  dim(d) #> [1] 12432     6 head(d) #> # A tibble: 6 × 6 #>   subject cycle phase   day  item drsp_score #>     <dbl> <dbl> <chr> <dbl> <dbl>      <dbl> #> 1       2     1 pre      -7     1          1 #> 2       2     1 pre      -7     2          1 #> 3       2     1 pre      -7     3          1 #> 4       2     1 pre      -7     4          1 #> 5       2     1 pre      -7     5          1 #> 6       2     1 pre      -7     6          1"},{"path":"https://lasy.github.io/cpass/articles/cpass_vignette.html","id":"overview-of-the-package-functions","dir":"Articles","previous_headings":"","what":"Overview of the package functions","title":"Introduction to the `cpass` package","text":"cpass package contains 3 types functions: data formatting function as_cpass_data() first checks format data like analyse cpass package, formats diagnosis /visualizations PMDD/MRMD/PME diagnosis function cpass() visualization functions: plot_subject_obs(), plot_subject_cycle_obs(), plot_subject_dx() plot_subject_data_and_dx() typical cpass workflow consists loading (formatting) raw data .csv .xls file preparing diagnosis as_cpass_data() running cpass() function data extract general statistics diagnoses visually explore data specific subjects visualization functions.","code":""},{"path":[]},{"path":"https://lasy.github.io/cpass/articles/cpass_vignette.html","id":"formating-raw-data-into-cpass_data","dir":"Articles","previous_headings":"Package demo","what":"Formating raw data into cpass_data","title":"Introduction to the `cpass` package","text":"function as_cpass_data() transforms raw data cpass_data. data provided argument as_cpass_data() must long format, .e. one row per subject, cycle, day DRSP (daily record severity problems) item (.e., symptom diary used collect data C-PASS diagnosis). full documentation, type ?as_cpass_data R console.","code":"input <- as_cpass_data(d, sep_event = \"menses\") #> Number of subjects:  20  #> Total number of cycles:  37  #> Percentage of missing scores:  3.23 % #> Warning in as_cpass_data(d, sep_event = \"menses\"): The 'phase' column will be over-written #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  3.23 %"},{"path":"https://lasy.github.io/cpass/articles/cpass_vignette.html","id":"running-the-cpass-procedure-for-pmddmrmdpme-diagnosis","dir":"Articles","previous_headings":"Package demo","what":"Running the CPASS procedure for PMDD/MRMD/PME diagnosis","title":"Introduction to the `cpass` package","text":"Now data formatted, can passed CPASS() function. function run CPASS procedure PMDD/MRMD (optionally PME) diagnoses: full documentation, type ?CPASS R console. CPASS function returns list 6 tables: Let’s look first table: table diagnoses 20 subjects. 3 subjects (~15%) PMDD diagnosis, 3 others MRMD diagnosis 9 subjects (~45%) diagnosis based reported symptoms. remaining 5 subjects sufficient data make diagnosis: see 5 subjects reported DRSP one cycle (instead two required). Now, can dive deeper data particular subjects. example, can check cycle-level diagnosis subject #47 reported DRSP scores 3 cycles. second cycle subject fulfilled criteria cycle-level PMDD diagnosis. symptoms reported cycles meet criteria PMDD MRMD. can dive even deeper look DRSP items cycle #2: large table provides criteria details item, may consider following columns now: observe subject mostly experienced severe anxiety, inability control mood, anger feeling overwhelm premenstrual phase cycle 2.","code":"diagnosis <- cpass(input) #> PME diagnosis is still experimental and has not been validated clinically. Please, use with caution. names(diagnosis) #> [1] \"subject_level_diagnosis\"      \"cycle_level_diagnosis\"        #> [3] \"DSM5_domains_level_diagnosis\" \"item_level_diagnosis\"         #> [5] \"daily_summary_per_item\"       \"summary_item\" diagnosis$subject_level_diagnosis #> # A tibble: 20 × 15 #>    subject Ncycles_tot Ncycles N_PMDD N_MRMD N_PME pmddcycprop mrmdcycprop #>      <dbl>       <int>   <int>  <int>  <int> <int>       <dbl>       <dbl> #>  1       2           2       2      2      2     2       1           1     #>  2      15           1       1     NA     NA    NA      NA          NA     #>  3      17           2       2      0      1     0       0           0.5   #>  4      21           2       2      0      0     0       0           0     #>  5      25           2       2      0      2     1       0           1     #>  6      27           2       2      0      1     1       0           0.5   #>  7      33           1       1     NA     NA    NA      NA          NA     #>  8      36           2       2      1      1     1       0.5         0.5   #>  9      44           2       2      1      1     1       0.5         0.5   #> 10      47           3       3      1      1     1       0.333       0.333 #> 11      48           1       1     NA     NA    NA      NA          NA     #> 12      49           2       2      0      1     0       0           0.5   #> 13      60           1       1     NA     NA    NA      NA          NA     #> 14      95           1       1     NA     NA    NA      NA          NA     #> 15     117           2       2      1      1     2       0.5         0.5   #> 16     122           3       3      0      2     1       0           0.667 #> 17     147           2       2      1      1     1       0.5         0.5   #> 18     158           2       2      1      2     2       0.5         1     #> 19     162           2       2      2      2     2       1           1     #> 20     178           2       2      2      2     2       1           1     #> # ℹ 7 more variables: pmecycprop <dbl>, PMDD <lgl>, MRMD <lgl>, PME <lgl>, #> #   dxcat <dbl>, dx <fct>, avgdsm5crit <dbl> table(diagnosis$subject_level_diagnosis$dx) #>  #> no diagnosis         MRMD         PMDD          PME  #>            8            3            3            1 diagnosis$subject_level_diagnosis %>%    filter(is.na(dx)) #> # A tibble: 5 × 15 #>   subject Ncycles_tot Ncycles N_PMDD N_MRMD N_PME pmddcycprop mrmdcycprop #>     <dbl>       <int>   <int>  <int>  <int> <int>       <dbl>       <dbl> #> 1      15           1       1     NA     NA    NA          NA          NA #> 2      33           1       1     NA     NA    NA          NA          NA #> 3      48           1       1     NA     NA    NA          NA          NA #> 4      60           1       1     NA     NA    NA          NA          NA #> 5      95           1       1     NA     NA    NA          NA          NA #> # ℹ 7 more variables: pmecycprop <dbl>, PMDD <lgl>, MRMD <lgl>, PME <lgl>, #> #   dxcat <dbl>, dx <fct>, avgdsm5crit <dbl> diagnosis$cycle_level_diagnosis %>% filter(subject == 47) #> # A tibble: 3 × 9 #>   subject cycle included n_DSM5_domains_meeting_P…¹ n_DSM5_domains_meeti…² PME   #>     <dbl> <dbl> <lgl>                         <int>                  <int> <lgl> #> 1      47     1 TRUE                              3                      0 FALSE #> 2      47     2 TRUE                              5                      5 TRUE  #> 3      47     3 TRUE                              0                      0 FALSE #> # ℹ abbreviated names: ¹​n_DSM5_domains_meeting_PME_criteria, #> #   ²​n_DSM5_domains_meeting_PMDD_criteria #> # ℹ 3 more variables: DSM5_A <lgl>, DSM5_B <lgl>, diagnosis <chr> diagnosis$item_level_diagnosis %>% filter(subject == 47, cycle == 2) #> # A tibble: 24 × 16 #>    subject cycle  item at_least_n_obs max_sev_pre n_days_high_score mean_pre #>      <dbl> <dbl> <dbl> <lgl>                <int>             <int>    <dbl> #>  1      47     2     1 TRUE                     1                 0     1    #>  2      47     2     2 TRUE                     3                 0     1.43 #>  3      47     2     3 TRUE                     1                 0     1    #>  4      47     2     4 TRUE                     5                 4     3.43 #>  5      47     2     5 TRUE                     6                 5     3.86 #>  6      47     2     6 TRUE                     1                 0     1    #>  7      47     2     7 TRUE                     6                 5     4.43 #>  8      47     2     8 TRUE                     5                 5     3.83 #>  9      47     2     9 TRUE                     4                 1     1.86 #> 10      47     2    10 TRUE                     4                 2     2.71 #> # ℹ 14 more rows #> # ℹ 9 more variables: mean_post <dbl>, raw_cyclical_change <dbl>, range <dbl>, #> #   percent_change <dbl>, max_sev_post <int>, item_meets_PMDD_criteria <lgl>, #> #   item_meets_PME_criteria <lgl>, DSM5_SYMPTOM_DOMAIN <chr>, #> #   SYMPTOM_CATEGORY <chr> diagnosis$item_level_diagnosis %>%    filter(subject == 47, cycle == 2) %>%    select(subject, cycle, item, item_meets_PMDD_criteria, DSM5_SYMPTOM_DOMAIN) %>%     as.data.frame() #>    subject cycle item item_meets_PMDD_criteria DSM5_SYMPTOM_DOMAIN #> 1       47     2    1                    FALSE          DEPRESSION #> 2       47     2    2                    FALSE          DEPRESSION #> 3       47     2    3                    FALSE          DEPRESSION #> 4       47     2    4                     TRUE             ANXIETY #> 5       47     2    5                     TRUE       MOOD LABILITY #> 6       47     2    6                    FALSE       MOOD LABILITY #> 7       47     2    7                     TRUE               ANGER #> 8       47     2    8                     TRUE               ANGER #> 9       47     2    9                    FALSE            INTEREST #> 10      47     2   10                    FALSE       CONCENTRATION #> 11      47     2   11                    FALSE            LETHARGY #> 12      47     2   12                    FALSE            APPETITE #> 13      47     2   13                     TRUE            APPETITE #> 14      47     2   14                    FALSE               SLEEP #> 15      47     2   15                    FALSE               SLEEP #> 16      47     2   16                    FALSE           OVERWHELM #> 17      47     2   17                     TRUE           OVERWHELM #> 18      47     2   18                    FALSE            PHYSICAL #> 19      47     2   19                    FALSE            PHYSICAL #> 20      47     2   20                    FALSE            PHYSICAL #> 21      47     2   21                       NA            PHYSICAL #> 22      47     2   22                    FALSE        INTERFERENCE #> 23      47     2   23                    FALSE        INTERFERENCE #> 24      47     2   24                    FALSE        INTERFERENCE"},{"path":"https://lasy.github.io/cpass/articles/cpass_vignette.html","id":"visualizing-subjects-data","dir":"Articles","previous_headings":"Package demo","what":"Visualizing subjects data","title":"Introduction to the `cpass` package","text":"subject data diagnoses can explored inspecting tables, cpass package comes visualization functions may help investigation specific subject’s data.","code":""},{"path":"https://lasy.github.io/cpass/articles/cpass_vignette.html","id":"visualizing-subjects-diagnoses","dir":"Articles","previous_headings":"Package demo > Visualizing subjects data","what":"Visualizing subject’s diagnoses","title":"Introduction to the `cpass` package","text":"example, one can overview subject diagnosis plot_subject_dx() function. subject #47, run:  top panel provides subject ID, diagnosis, number cycles scores provided number cycles enough data included diagnosis procedure. also provides number cycles PMDD MRMD diagnosis.","code":"plot_subject_dx(input %>% dplyr::filter(subject == 47))"},{"path":"https://lasy.github.io/cpass/articles/cpass_vignette.html","id":"visualizing-subjects-reported-scores","dir":"Articles","previous_headings":"Package demo > Visualizing subjects data","what":"Visualizing subject’s reported scores","title":"Introduction to the `cpass` package","text":"cycle_level_dx table subject, know cycle #2 fulfilled PMDD criteria cycles . explore scores reported 2nd cycle, function plot_subject_cycle_obs() can used. function visualizes reported score given cycle:  two left panels visualize reported scores x-axis cycle-days (time) line y-axis representing one DRSP item. score item day written corresponding (x,y) rectangle. color rectangle proportional score. Low scores (1) gray, high scores (6) red. Missing scores represented transparent rectangles. panels right visualize items domains cycle fulfill PMDD criteria. meet criteria, corresponding rectangle light-gray. meet criteria, red. Items excluded diagnosis procedure dark-gray. subject, can compare second cycle () third cycle:  Note reported scores can visualized without diagnosis option add_diagnosis = FALSE  color high score can changed option color_max_score = \"desired_color\":  also possible visualize cycles user function plot_subject_obs()","code":"plot_subject_cycle_obs(data = input %>% filter(subject == 47, cycle == 2)) #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution. plot_subject_cycle_obs(data = input %>% filter(subject == 47, cycle == 3)) #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution. plot_subject_cycle_obs(data = input %>% filter(subject == 47, cycle == 2), add_diagnosis = FALSE) plot_subject_cycle_obs(data = input %>% filter(subject == 47, cycle == 2), color_max_score = \"turquoise\") #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution. plot_subject_obs(data = input %>% filter(subject == 47)) #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution."},{"path":"https://lasy.github.io/cpass/articles/cpass_vignette.html","id":"visualizing-subjects-reported-scores-and-diagnosis","dir":"Articles","previous_headings":"Package demo > Visualizing subjects data","what":"Visualizing subject’s reported scores and diagnosis","title":"Introduction to the `cpass` package","text":"finally, function plot_subject_data_and_dx() useful visualize reported scores diagnoses summaries given subject. function may return large visualizations, default, prints visualization pdf appropriate size (.e., height proportional number cycles reported subject). default, pdf saved current directory filename specifies subject ID path pdf name can specified via options pdf_path pdf_name. pdf option can also turned option save_as_pdf = FALSE. case, calling function prints visualization R. function called option save_as_pdf = TRUE (default), visualization returned silently caught variable (e.g. viz <- plot_subject_data_and_dx(data); viz).","code":"plot_subject_data_and_dx(data = input %>% filter(subject == 47), save_as_pdf = FALSE)  #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution."},{"path":"https://lasy.github.io/cpass/articles/fictive-study.html","id":"study-design","dir":"Articles","previous_headings":"","what":"Study design","title":"Using the `cpass` package on study data","text":"Recruitment: patients complaining (worsening ) symptoms luteal phase Pre-enrollment phase: participants asked report DRSP two cycles Inclusion criteria: participants must meet diagnosis PMDD Study phase: 50% participants given new treatment, rest given placebo. 3 cycles treatment, participants asked report DRSP two cycles. Analysis: evaluate benefit new treatment compared placebo.","code":""},{"path":"https://lasy.github.io/cpass/articles/fictive-study.html","id":"simulating-pre-enrollment-data","dir":"Articles","previous_headings":"","what":"Simulating pre-enrollment data","title":"Using the `cpass` package on study data","text":", simulate data 240 subjects. data simulated subject specific level symptoms baseline, specific levels symptoms worsening pre-menstrual week, specific number items (symptoms) worsening pre-menstrual phase. simulated , , subjects meet criteria PMDD. expected actual study screening (prospective validation) phase.","code":"# we simulate data for 240 subjects n_subjects <- 240  # the simulate_cpass_data function is part of the cpass package # type \"?simulate_cpass_data\" for documentation pre_data <-    simulate_cpass_data(     n_subjects = n_subjects,     # we simulate 2 cycles for each subject     n_cycles = 2,      # baseline for each subject     baseline = rnorm(n_subjects, mean = 2, sd = 1),      # % increase in symptoms     pmdd_intensity = rnorm(n_subjects, mean = 0.35, sd = 0.25),      # number of items that vary in the pre-menstrual phase     n_items = sample(1:24, n_subjects, replace = TRUE,                       prob = dnorm(1:24, mean = 15, sd = 5)),     # fraction of days without data (e.g. participants forgot to report)     missingness_rate = 0.2   )  # write_csv(pre_data, \"data/pre_data.csv\")  # The function above exports data into a .csv file."},{"path":"https://lasy.github.io/cpass/articles/fictive-study.html","id":"analysis-of-pre-enrollment-data-and-identifying-pmdd-patients-","dir":"Articles","previous_headings":"","what":"Analysis of pre-enrollment data and identifying PMDD patients.","title":"Using the `cpass` package on study data","text":"applying cpass function data, first need format data. Now data formatted, can apply cpass function. first thing can check number participants meet PMDD criteria. table shows number participants diagnosis, MRMD, PMDD PME diagnosis. can also plot distribution average percent change one items participants, grouping diagnosis.  see PMDD participant 30% increase symptoms 1st item. participants 30+% increase items. can also plot item summary reported data specific participants. , show subject’s data visualization two subjects: one meets PMDD diagnosis criteria, one meet criteria.","code":"# pre_data <-  #  read_csv(\"data/pre_data.csv\", #           show_col_types = FALSE)  # to do a quick exploration of these data, try # View(pre_data) # head(pre_data) # summary(pre_data)  # below, we transform the data into a \"long\" table # where there is one row per subject x cycle x cycleday x item pre_data_long <-    pre_data %>%    pivot_longer(cols = starts_with(\"item_\"),                names_to = \"item\",                values_to = \"drsp_score\",                names_prefix = \"item_\") %>%    mutate(item = item %>% as.integer())  # finally, we use the `as_cpass_data` function, which checks the data # and prepare them for the `cpass` function (see next chunk) pre_data_cpass_format <-    as_cpass_data(pre_data_long, sep_event = \"ovulation\") #> Number of subjects:  240  #> Total number of cycles:  480  #> Percentage of missing scores:  20.31 % #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  20.31 % pre_data_cpass <-    cpass(pre_data_cpass_format) #> PME diagnosis is still experimental and has not been validated clinically. Please, use with caution. pre_data_cpass$subject_level_diagnosis$dx %>%    table() %>%    as_tibble() %>%    knitr::kable() pre_data_cpass$summary_item %>%    filter(item == 1) %>%    left_join(     .,      pre_data_cpass$subject_level_diagnosis,     by = \"subject\"   ) %>%    ggplot(., aes(x = ave_perc_change, fill = dx)) +   geom_histogram(position = \"identity\", alpha = 0.4, binwidth = 5) +   xlab(\"Average % change for item 1\") +   facet_grid(dx ~ ., scales = \"free_y\") +   guides(fill = \"none\") +   theme(strip.text.y = element_text(angle = 0, hjust = 0)) get_random_subject <- function(subjects_data, diagnosis){   subjects_data %>%      filter(dx == diagnosis) %>%      select(subject) %>%      sample_n(size = 1) %>%      unlist() } pmdd_subject <-    get_random_subject(pre_data_cpass$subject_level_diagnosis, \"PMDD\")  no_dx_subject <-    get_random_subject(pre_data_cpass$subject_level_diagnosis, \"no diagnosis\")  plot_subject_data_and_dx(   data = pre_data_cpass_format %>% filter(subject == pmdd_subject),   save_as_pdf = FALSE ) #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution. plot_subject_data_and_dx(   data = pre_data_cpass_format %>% filter(subject == no_dx_subject),   save_as_pdf = FALSE ) #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution. mrmd_subject <-    get_random_subject(pre_data_cpass$subject_level_diagnosis, \"MRMD\")  plot_subject_dx(   data = pre_data_cpass_format %>% filter(subject == mrmd_subject) ) plot_subject_cycle_obs(   data =      pre_data_cpass_format %>%      filter(subject == mrmd_subject,            cycle == 1) ) #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution. plot_subject_cycle_obs(   data =      pre_data_cpass_format %>%      filter(subject == mrmd_subject,            cycle == 2) ) #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution."},{"path":"https://lasy.github.io/cpass/articles/fictive-study.html","id":"inclusion-criteria-and-random-selection-into-study-arms","dir":"Articles","previous_headings":"","what":"Inclusion criteria and random selection into study arms","title":"Using the `cpass` package on study data","text":"select participants meet PMDD criteria randomly assign one two study arms (treatment placebo)","code":"subjects_with_pmdd <-    pre_data_cpass$subject_level_diagnosis %>%    filter(dx == \"PMDD\") %>%    select(subject, avgdsm5crit) %>%    mutate(study_arm =             sample(              c(rep(\"placebo\",floor(n()/2)),                rep(\"treatment\",ceiling(n()/2))),              size = n())   )  subjects_with_pmdd$study_arm %>% table() %>% as_tibble() %>% knitr::kable() subjects_with_pmdd <-    subjects_with_pmdd %>%    arrange(study_arm) %>%    group_by(study_arm) %>%    mutate(subject_nb = row_number()) %>%    ungroup()"},{"path":"https://lasy.github.io/cpass/articles/fictive-study.html","id":"simulating-study-data-post-treatment","dir":"Articles","previous_headings":"","what":"Simulating study data (post-treatment)","title":"Using the `cpass` package on study data","text":"section, simulate study data. simulate data participants “treatment” arm experience lower increase symptoms pre-menstrual week less symptoms increased severity “placebo” arm.","code":"n_placebo <- (subjects_with_pmdd$study_arm == \"placebo\") %>% sum() post_placebo <-    simulate_cpass_data(     n_subjects = n_placebo,     n_cycles = 2,     pmdd_intensity = rnorm(n = n_placebo, mean = 0.5, sd = 0.25),     baseline = rnorm(n_placebo, mean = 1, sd = 1),     n_items = sample(1:24, n_placebo, replace = TRUE,                       prob = dnorm(1:24, mean = 15, sd = 5)),     missingness_rate = 0.1   ) %>%    rename(subject_nb = subject) %>%    mutate(study_arm = \"placebo\") %>%    left_join(     .,      subjects_with_pmdd %>%        filter(study_arm == \"placebo\") %>%        select(subject, subject_nb),     by = \"subject_nb\")  n_treatment <- (subjects_with_pmdd$study_arm == \"treatment\") %>% sum() post_treatment <-    simulate_cpass_data(     n_subjects = n_treatment,     n_cycles = 2,     pmdd_intensity = rnorm(n = n_treatment, mean = 0.2, sd = 0.25),     baseline = rnorm(n_treatment, mean = 1, sd = 1),     n_items = sample(1:24, n_treatment, replace = TRUE,                       prob = dnorm(1:24, mean = 8, sd = 5)),         missingness_rate = 0.1   ) %>%    rename(subject_nb = subject) %>%    mutate(study_arm = \"treatment\") %>%    left_join(     .,      subjects_with_pmdd %>%        filter(study_arm == \"treatment\") %>%        select(subject, subject_nb),     by = \"subject_nb\")  study_data <-    bind_rows(     post_placebo,     post_treatment   )  # write_csv(study_data, \"data/study_data.csv\") # save the data as csv file"},{"path":"https://lasy.github.io/cpass/articles/fictive-study.html","id":"analysing-study-results","dir":"Articles","previous_headings":"","what":"Analysing study results","title":"Using the `cpass` package on study data","text":"Similarly screening data, first format study data. Now data formatted, can apply cpass function. can now check number participants still meet PMDD criteria two study arms expected/designed, fraction participants diagnosed PMDD following treatment lower following placebo. expected/designed, percentage participants PMDD placebo arm still lower recruitment (100%). can continue analysis asking treatment especially effective reducing specific symptoms?  simulated data, know treatment expected reduce specific symptoms. visualization seems confirm expectation.","code":"#study_data <-  #  read_csv(\"data/study_data.csv\", #           show_col_types = FALSE)  # to do a quick exploration of these data, try # View(study_data) # head(study_data) # summary(study_data)  # below, we transform the data into a \"long\" table # where there is one row per subject x cycle x cycleday x item study_data_long <-    study_data %>%    pivot_longer(cols = starts_with(\"item_\"),                names_to = \"item\",                values_to = \"drsp_score\",                names_prefix = \"item_\") %>%    mutate(item = item %>% as.integer())  # finally, we use the `as_cpass_data` function, which checks the data # and prepare them for the `cpass` function (see next chunk) study_data_cpass_format <-    as_cpass_data(study_data_long, sep_event = \"ovulation\") #> Number of subjects:  68  #> Total number of cycles:  136  #> Percentage of missing scores:  10.29 % #> Warning in as_cpass_data(study_data_long, sep_event = \"ovulation\"): The 'phase' column will be over-written #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  10.29 % study_data_cpass <-    cpass(study_data_cpass_format) #> PME diagnosis is still experimental and has not been validated clinically. Please, use with caution. subject_dx_study_cycles <-    study_data_cpass$subject_level_diagnosis %>%    left_join(subjects_with_pmdd %>% select(subject, study_arm), by = \"subject\")  subject_dx_study_cycles %>%    group_by(study_arm, dx) %>%    summarize(n = n(), .groups = \"drop\") %>%    group_by(study_arm) %>%    mutate(perc = (n/sum(n)*100) %>% round(., 2)) %>%    ungroup() %>%    select(study_arm, dx, perc) %>%    arrange(study_arm, dx) %>%    pivot_wider(     id_cols = study_arm,     names_from = dx,     values_from = perc,     names_prefix  = \"% \") %>%    knitr::kable() item_summary_study <-    study_data_cpass$summary_item %>%    left_join(     subjects_with_pmdd %>% select(subject, study_arm),     by = \"subject\"   )  item_summary_pre <-    pre_data_cpass$summary_item %>%   filter(subject %in% subjects_with_pmdd$subject) %>%    rename(ave_perc_change_baseline = ave_perc_change)  item_summary <-    left_join(item_summary_study, item_summary_pre, by = c(\"subject\", \"item\")) %>%    arrange(study_arm, subject, item) %>%    select(study_arm, subject, item, ave_perc_change_baseline, ave_perc_change)  # item_summary  ggplot(item_summary,        aes(x = ave_perc_change - ave_perc_change_baseline,            fill = study_arm)) +   geom_vline(xintercept = 0, col = \"gray\") +   geom_histogram(position = \"identity\", alpha = 0.5, binwidth = 10) +   facet_wrap(item ~ ., ncol = 6, labeller = label_both) +   xlab(\"Difference (baseline - study) in average % change in reported severity\\nbetween the pre- and the post-menstrual phase\") +   scale_fill_discrete(\"Study arm\") +   theme(legend.position = \"bottom\")"},{"path":"https://lasy.github.io/cpass/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Laura Symul. Author, maintainer, conceptor. Tory Eisenlohr-Moul. Author, conceptor.","code":""},{"path":"https://lasy.github.io/cpass/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Symul L, Eisenlohr-Moul T (2025). cpass: PMDD MRMD Diagnoses Following Carolina Premenstrual Assessment Scoring System (C-PASS). R package version 0.1.0, https://lasy.github.io/cpass/.","code":"@Manual{,   title = {cpass: PMDD and MRMD Diagnoses Following The Carolina Premenstrual Assessment Scoring System (C-PASS)},   author = {Laura Symul and Tory Eisenlohr-Moul},   year = {2025},   note = {R package version 0.1.0},   url = {https://lasy.github.io/cpass/}, }"},{"path":"https://lasy.github.io/cpass/index.html","id":"the-cpass-r-package","dir":"","previous_headings":"","what":"PMDD and MRMD Diagnoses Following The Carolina Premenstrual Assessment Scoring System (C-PASS)","title":"PMDD and MRMD Diagnoses Following The Carolina Premenstrual Assessment Scoring System (C-PASS)","text":"cpass R package application C-PASS (Carolina Premenstrual Assessment Scoring System) procedure diagnosis PMDD (Pre-Menstrual Dysphoric Disorder) MRMD (Menstrually Related Mood Disorder).","code":""},{"path":"https://lasy.github.io/cpass/index.html","id":"installation-instructions","dir":"","previous_headings":"","what":"Installation instructions","title":"PMDD and MRMD Diagnoses Following The Carolina Premenstrual Assessment Scoring System (C-PASS)","text":"use package, need R installed computer. install R, follow instructions. (optional) installed R, recommend also install programming environment RStudio, makes easier interact R. download RStudio, go website download free Desktop version. installed, open RStudio. need crash course refresher R, recommend tutorials well getting familiar tidyverse package suite. installing cpass package, make sure install devtools package running, R console, following two commands: install.packages(\"devtools\") library(devtools) can now install load cpass package : devtools::install_github(\"lasy/cpass\", dependencies = TRUE) library(cpass)","code":""},{"path":"https://lasy.github.io/cpass/index.html","id":"using-the-cpass-package","dir":"","previous_headings":"","what":"Using the cpass package.","title":"PMDD and MRMD Diagnoses Following The Carolina Premenstrual Assessment Scoring System (C-PASS)","text":"package vignette, .e. instructions installing using package, can found . vignette provides examples can perform analyses data. description validation C-PASS procedure can found Eisenlohr-Moul et al., 2016. addition C-PASS procedure diagnosis PMDD MRMD, cpass package also proposes diagnosis PME (premenstrual exacerbation). function still experimental validated clinically. Please, use caution.","code":""},{"path":"https://lasy.github.io/cpass/reference/CPASS.html","id":null,"dir":"Reference","previous_headings":"","what":"Applies the C-PASS procedure for PMDD and MRMD diagnoses — cpass","title":"Applies the C-PASS procedure for PMDD and MRMD diagnoses — cpass","text":"function implements C-PASS procedure returns list 6 tables summaries diagnoses different levels (subjects, cycles, domains, etc).","code":""},{"path":"https://lasy.github.io/cpass/reference/CPASS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Applies the C-PASS procedure for PMDD and MRMD diagnoses — cpass","text":"","code":"cpass(data, silent = FALSE)"},{"path":"https://lasy.github.io/cpass/reference/CPASS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Applies the C-PASS procedure for PMDD and MRMD diagnoses — cpass","text":"data cpass.data data frame contains symptom DRSP scores reported subjects. transform data cpass.data object, use function as_cpass_data(). silent logical specifying function print messages run silently. Default FALSE.","code":""},{"path":"https://lasy.github.io/cpass/reference/CPASS.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Applies the C-PASS procedure for PMDD and MRMD diagnoses — cpass","text":"cpass function returns list 6 elements; table (data.frame): subject_level_diagnosis subject-level diagnoses cycle_level_diagnosis cycle-level diagnoses DSM5_domains_level_diagnosis diagnoses DSM5 DOMAINS level DRSP_level_diagnosis diagnoses individual DRSP items level daily_summary_DRSP daily summary DRSP subject summary_DRSP percent change DRSP items pre- post-menstrual phase","code":""},{"path":"https://lasy.github.io/cpass/reference/CPASS.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Applies the C-PASS procedure for PMDD and MRMD diagnoses — cpass","text":"","code":"data(PMDD_data) cpass_input <- as_cpass_data(PMDD_data, sep_event = \"menses\") #> Number of subjects:  20  #> Total number of cycles:  37  #> Percentage of missing scores:  3.23 % #> Warning: The 'phase' column will be over-written #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  3.23 % output <- cpass(cpass_input) #> PME diagnosis is still experimental and has not been validated clinically. Please, use with caution. head(output$subject_level_diagnosis) #> # A tibble: 6 × 15 #>   subject Ncycles_tot Ncycles N_PMDD N_MRMD N_PME pmddcycprop mrmdcycprop #>     <dbl>       <int>   <int>  <int>  <int> <int>       <dbl>       <dbl> #> 1       2           2       2      2      2     2           1         1   #> 2      15           1       1     NA     NA    NA          NA        NA   #> 3      17           2       2      0      1     0           0         0.5 #> 4      21           2       2      0      0     0           0         0   #> 5      25           2       2      0      2     1           0         1   #> 6      27           2       2      0      1     1           0         0.5 #> # ℹ 7 more variables: pmecycprop <dbl>, PMDD <lgl>, MRMD <lgl>, PME <lgl>, #> #   dxcat <dbl>, dx <fct>, avgdsm5crit <dbl>"},{"path":"https://lasy.github.io/cpass/reference/PMDD_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Example of PMDD data. — PMDD_data","title":"Example of PMDD data. — PMDD_data","text":"dataset DRSP 20 subjects","code":""},{"path":"https://lasy.github.io/cpass/reference/PMDD_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example of PMDD data. — PMDD_data","text":"","code":"PMDD_data"},{"path":"https://lasy.github.io/cpass/reference/PMDD_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example of PMDD data. — PMDD_data","text":"data frame 12,432 rows 6 variables: subject Subject unique idenfier cycle Cycle number. dataset, cycles numbered one ovulation next. phase \"pre\" \"post\": phase menstrual cycle (pre-menstrual vs post-menstrual). day Cycle day. dataset, days pre-menstrual phase counted backward onset menses. -1 day onset menses.   Days post-menstrual phase counted forward onset menses. Day 1 first day menses. Day 0 exist. item Item number drsp_score Score reported user DRSP item, day cycle row","code":""},{"path":"https://lasy.github.io/cpass/reference/PMDD_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example of PMDD data. — PMDD_data","text":"Dr. Tory Eisenlohr-Moul","code":""},{"path":"https://lasy.github.io/cpass/reference/as_cpass_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Transforms into a ","title":"Transforms into a ","text":"function checks data can used CPASS functions transforms \"cpass\" data.frame.","code":""},{"path":"https://lasy.github.io/cpass/reference/as_cpass_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transforms into a ","text":"","code":"as_cpass_data(data, sep_event = NULL, silent = FALSE, verbose = TRUE)"},{"path":"https://lasy.github.io/cpass/reference/as_cpass_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transforms into a ","text":"data data.frame contains symptoms reported subjects. data must long format, _i.e._ one row per subject, day (date cycle + cycleday) DRSP item. data.frame must following columns: subject, item, drsp_score well two columns defining time. two columns can cycle + day, date + is_cycle_start, date + bleeding. See supported_data_format details. sep_event (required) character (\"menses\" \"ovulation\") specifying whether menstrual event separating two phases interest (\"pre\" \"post\" weeks) menses ovulation. menses separating event, week preceding menstruation (\"pre\") compared week following menstruation (\"post\"). case, \"pre\" \"post\" week belong cycle. ovulation separating event, two phases belong cycle. silent (optional) logical, default = FALSE. warning messages printed? verbose (optional) logical. function print additional information? (mostly used debugging purposes)","code":""},{"path":"https://lasy.github.io/cpass/reference/as_cpass_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transforms into a ","text":"data.frame.","code":""},{"path":"https://lasy.github.io/cpass/reference/as_cpass_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transforms into a ","text":"","code":"random_data <-    expand.grid(        subject = 1,        cycle = 1:2,        day = c(1:10,-10:-1),        item = 1:24        ) random_data$drsp_score <- sample(1:6, nrow(random_data), replace = TRUE) cpass_data <- as_cpass_data(random_data, sep_event = \"menses\") #> Number of subjects:  1  #> Total number of cycles:  2  #> Percentage of missing scores:  0 % #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  0 % colnames(cpass_data) #> [1] \"subject\"    \"cycle\"      \"phase\"      \"day\"        \"item\"       #> [6] \"drsp_score\""},{"path":"https://lasy.github.io/cpass/reference/dot-compute_phase_and_cycleday.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute cycledays and phases from dates and provided starts of cycles. — .compute_phase_and_cycleday","title":"Compute cycledays and phases from dates and provided starts of cycles. — .compute_phase_and_cycleday","text":"Compute cycledays phases dates provided starts cycles.","code":""},{"path":"https://lasy.github.io/cpass/reference/dot-compute_phase_and_cycleday.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute cycledays and phases from dates and provided starts of cycles. — .compute_phase_and_cycleday","text":"","code":".compute_phase_and_cycleday(data, sep_event)"},{"path":"https://lasy.github.io/cpass/reference/dot-compute_phase_and_cycleday.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute cycledays and phases from dates and provided starts of cycles. — .compute_phase_and_cycleday","text":"data data.frame contains symptoms reported subjects. data must long format following columns: subject, item, drsp_score sep_event character XXX","code":""},{"path":"https://lasy.github.io/cpass/reference/dot-compute_phase_and_cycleday.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute cycledays and phases from dates and provided starts of cycles. — .compute_phase_and_cycleday","text":"data.frame data additional columns.","code":""},{"path":"https://lasy.github.io/cpass/reference/dot-compute_phase_and_cycleday.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute cycledays and phases from dates and provided starts of cycles. — .compute_phase_and_cycleday","text":"","code":"random_data =     expand.grid(         subject = 1,         item = 1:24,         date = seq(as.Date(\"2020-01-01\"), as.Date(\"2020-03-01\"), by = 1)         ) random_data$drsp_score <- sample(1:6, nrow(random_data), replace = TRUE) random_data$is_cycle_start <-     ifelse(        random_data$date %in%          c(as.Date(\"2020-01-15\"), as.Date(\"2020-02-20\")),        TRUE, FALSE) # augmented_data <- .compute_phase_and_cycleday(random_data, sep_event = \"ovulation\") # colnames(augmented_data)"},{"path":"https://lasy.github.io/cpass/reference/dsm5_dict.html","id":null,"dir":"Reference","previous_headings":"","what":"PMDD DSM-5 items and their domains. — dsm5_dict","title":"PMDD DSM-5 items and their domains. — dsm5_dict","text":"dictionary listing 24 DSM-5 items subjects can report DRSP (Daily Record Severity Problems) score","code":""},{"path":"https://lasy.github.io/cpass/reference/dsm5_dict.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PMDD DSM-5 items and their domains. — dsm5_dict","text":"","code":"dsm5_dict"},{"path":"https://lasy.github.io/cpass/reference/dsm5_dict.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"PMDD DSM-5 items and their domains. — dsm5_dict","text":"data frame 24 rows 5 variables: ITEM item number ITEM_full_code item number names ITEM_desc item description DSM5_SYMPTOM_DOMAIN item domain, defined DSM-5 SYMPTOM_CATEGORY item category, defined DSM-5. Can \"Core Emotional Symptom\", \"Secondary Symptom\" \"Interference\".","code":""},{"path":"https://lasy.github.io/cpass/reference/is_cpass_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Checks if data is a ","title":"Checks if data is a ","text":"Checks data \"CPASS\" data.frame.","code":""},{"path":"https://lasy.github.io/cpass/reference/is_cpass_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Checks if data is a ","text":"","code":"is_cpass_data(data, silent = TRUE)"},{"path":"https://lasy.github.io/cpass/reference/is_cpass_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Checks if data is a ","text":"data data.frame contains symptoms reported subjects. data must long format following columns: subject, cycle, day, DRSP, drsp_score silent (optional) logical, default = TRUE. warning messages printed?","code":""},{"path":"https://lasy.github.io/cpass/reference/is_cpass_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Checks if data is a ","text":"logical.","code":""},{"path":"https://lasy.github.io/cpass/reference/is_cpass_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Checks if data is a ","text":"","code":"random_data =   expand.grid(      subject = 1,      cycle = 1:2,      day = c(1:10,-10:-1),      item = 1:24) random_data$drsp_score = sample(1:6, nrow(random_data), replace = TRUE) cpass_data = as_cpass_data(random_data, sep_event = \"menses\") #> Number of subjects:  1  #> Total number of cycles:  2  #> Percentage of missing scores:  0 % #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  0 % colnames(cpass_data) #> [1] \"subject\"    \"cycle\"      \"phase\"      \"day\"        \"item\"       #> [6] \"drsp_score\" is_cpass_data(random_data) #> [1] FALSE is_cpass_data(cpass_data) #> [1] TRUE"},{"path":"https://lasy.github.io/cpass/reference/plot_subject_cycle_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize the scores of a subject's cycle — plot_subject_cycle_obs","title":"Visualize the scores of a subject's cycle — plot_subject_cycle_obs","text":"function visualizes scores (raw data) single subject's cycle. also internally calls CPASS function provide visualization diagnosis ITEM, DSM5 DOMAIN CYCLE level.","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_cycle_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize the scores of a subject's cycle — plot_subject_cycle_obs","text":"","code":"plot_subject_cycle_obs(   data = data.frame(),   add_diagnosis = TRUE,   color_max_score = \"tomato\",   silent = FALSE )"},{"path":"https://lasy.github.io/cpass/reference/plot_subject_cycle_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize the scores of a subject's cycle — plot_subject_cycle_obs","text":"data cpass data frame (use as_cpass_data convert data cpass data) contains symptoms reported ONE cycle ONE subject. add_diagnosis logical. TRUE (default), diagnoses ITEM, DSM5-DOMAIN CYCLE levels displayed together subject's reported scores. FALSE, reported scores displayed. color_max_score string specifying color score 6 (maximal score) reported subject. standard color format specification accepted, .e. one R built-color names (e.g. \"tomato\" (default); type colors() see names R built-colors), RGB hex code (e.g. \"#AA2199\") color specified via one color/palette functions (e.g. hsv(0.1,0.9,0.9)) silent logical specifying function print messages run silently. Default FALSE.","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_cycle_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize the scores of a subject's cycle — plot_subject_cycle_obs","text":"ggplot object","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_cycle_obs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize the scores of a subject's cycle — plot_subject_cycle_obs","text":"","code":"library(magrittr) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  data(PMDD_data) input <-   PMDD_data %>%   dplyr::filter(subject == 2, cycle == 1)  %>%   as_cpass_data(., sep_event = \"menses\") #> Number of subjects:  1  #> Total number of cycles:  1  #> Percentage of missing scores:  0 % #> Warning: The 'phase' column will be over-written #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  0 % plot_subject_cycle_obs(data = input) #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution."},{"path":"https://lasy.github.io/cpass/reference/plot_subject_data_and_dx.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize all the observations and the diagnosis summary of a single subject. — plot_subject_data_and_dx","title":"Visualize all the observations and the diagnosis summary of a single subject. — plot_subject_data_and_dx","text":"default, function saves visualization pdf. pdf heigth scales number cycles reported subject.","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_data_and_dx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize all the observations and the diagnosis summary of a single subject. — plot_subject_data_and_dx","text":"","code":"plot_subject_data_and_dx(   data = data.frame(),   save_as_pdf = TRUE,   pdf_path = \"\",   pdf_name = \"\",   color_max_score = \"tomato\",   color_summary = c(\"complementary\", \"rainbow\") )"},{"path":"https://lasy.github.io/cpass/reference/plot_subject_data_and_dx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize all the observations and the diagnosis summary of a single subject. — plot_subject_data_and_dx","text":"data cpass data.frame contains symptoms reported ONE subject. save_as_pdf logical. TRUE (default), function saves visualization pdf. pdf path name can specified arguments pdf_path pdf_name. FALSE, function returns ggplot object. object also returned, invisibly, save_as_pdf = TRUE (see examples). pdf_path string. Specifies path folder pdf saved. default, path empty string pdf saved current working directory. pdf_name string. Specifies name pdf. default, name pdf CPASS_SUBJECT_X.pdf, X replaced subject unique identifier. color_max_score string specifying color score 6 (maximal score) reported subject. standard color format specification accepted, .e. one R built-color names  (e.g. \"tomato\" (default);  type colors() see names R built-colors),  RGB hex code (e.g. \"#AA2199\")  color specified via one color/palette functions  (e.g. hsv(0.1,0.9,0.9)) color_summary string. Either \"complementary\" (default) \"rainbow\" specifying type color scheme ITEM items diagnosis summary. \"complementary\", colors chosen complementary within domain; \"rainbow\", item colors different item chosen rainbow palette.","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_data_and_dx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize all the observations and the diagnosis summary of a single subject. — plot_subject_data_and_dx","text":"ggplot object save_as_pdf = FALSE. object returned invisibly default (save_as_pdf = TRUE).","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_data_and_dx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize all the observations and the diagnosis summary of a single subject. — plot_subject_data_and_dx","text":"","code":"library(magrittr) library(dplyr)  data(PMDD_data) input =   PMDD_data %>%   dplyr::filter(subject == 2) %>%   as_cpass_data(., sep_event = \"menses\") #> Number of subjects:  1  #> Total number of cycles:  2  #> Percentage of missing scores:  13.1 % #> Warning: The 'phase' column will be over-written #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  13.1 % p <- plot_subject_data_and_dx(data = input) #> Subject summary saved in ' /home/runner/work/cpass/cpass/docs/reference/CPASS_SUBJECT_2.pdf ' p"},{"path":"https://lasy.github.io/cpass/reference/plot_subject_dx.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize the subject diagnosis — plot_subject_dx","title":"Visualize the subject diagnosis — plot_subject_dx","text":"function calls CPASS function provides visualization diagnosis.","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_dx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize the subject diagnosis — plot_subject_dx","text":"","code":"plot_subject_dx(   data = data.frame(),   color_summary = c(\"complementary\", \"rainbow\") )"},{"path":"https://lasy.github.io/cpass/reference/plot_subject_dx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize the subject diagnosis — plot_subject_dx","text":"data cpass data frame (use as_cpass_data convert data cpass data) contains symptoms reported ONE subject. color_summary string. Either \"complementary\" (default) \"rainbow\" specifying type color scheme ITEM items diagnosis summary. \"complementary\", colors chosen complementary within domain; \"rainbow\", DRSP items colors different item chosen rainbow palette.","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_dx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize the subject diagnosis — plot_subject_dx","text":"ggplot object","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_dx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize the subject diagnosis — plot_subject_dx","text":"","code":"library(magrittr) library(dplyr)  data(PMDD_data) input <-   PMDD_data %>%   dplyr::filter(subject == 2) %>%   as_cpass_data(., sep_event = \"menses\") #> Number of subjects:  1  #> Total number of cycles:  2  #> Percentage of missing scores:  13.1 % #> Warning: The 'phase' column will be over-written #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  13.1 % plot_subject_dx(data = input)"},{"path":"https://lasy.github.io/cpass/reference/plot_subject_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize all the observations of a single subject. — plot_subject_obs","title":"Visualize all the observations of a single subject. — plot_subject_obs","text":"function visualizes scores (raw data) reported subject. also internally calls cpass function provide visualization diagnosis ITEM, DSM5 DOMAIN CYCLE level.","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize all the observations of a single subject. — plot_subject_obs","text":"","code":"plot_subject_obs(   data = data.frame(),   add_diagnosis = TRUE,   color_max_score = \"tomato\",   silent = FALSE )"},{"path":"https://lasy.github.io/cpass/reference/plot_subject_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize all the observations of a single subject. — plot_subject_obs","text":"data cpass data frame contains symptoms reported ONE subject. add_diagnosis logical. TRUE (default), diagnoses ITEM, DSM5-DOMAIN CYCLE levels displayed together subject's reported scores. FALSE, reported scores displayed. color_max_score string specifying color score 6 (maximal score) reported subject. standard color format specification accepted, .e. one R built-color names (e.g. \"tomato\" (default); type colors() see names R built-colors), RGB hex code (e.g. \"#AA2199\") color specified via one color/palette functions (e.g. hsv(0.1,0.9,0.9)) silent logical specifying function print messages run silently. Default FALSE.","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize all the observations of a single subject. — plot_subject_obs","text":"ggplot object","code":""},{"path":"https://lasy.github.io/cpass/reference/plot_subject_obs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize all the observations of a single subject. — plot_subject_obs","text":"","code":"library(magrittr) library(dplyr)  data(PMDD_data) input <-   PMDD_data %>%   dplyr::filter(subject == 2)  %>%   as_cpass_data(., sep_event = \"menses\") #> Number of subjects:  1  #> Total number of cycles:  2  #> Percentage of missing scores:  13.1 % #> Warning: The 'phase' column will be over-written #> Percentage of missing scores #>           (in pre- & post-menstrual phases):  13.1 % plot_subject_obs(data = input) #> PME diagnosis is still experimental and has not be validated clinically. Please, use with caution."},{"path":"https://lasy.github.io/cpass/reference/simulate_cpass_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulates CPASS data — simulate_cpass_data","title":"Simulates CPASS data — simulate_cpass_data","text":"function simulates DRSP data n_subjects. Options allow choose number cycles per subject (n_cycles), increase symptoms rating (pmdd_intensity), baseline levels severity problems subjects (baseline), number items varying menstrual cycle (n_items), missingness rate (missingness_rate), fraction days data missing.","code":""},{"path":"https://lasy.github.io/cpass/reference/simulate_cpass_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulates CPASS data — simulate_cpass_data","text":"","code":"simulate_cpass_data(   n_subjects = 1,   n_cycles = 1,   baseline = 1,   pmdd_intensity = 0.5,   n_items = 24,   missingness_rate = 0 )"},{"path":"https://lasy.github.io/cpass/reference/simulate_cpass_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulates CPASS data — simulate_cpass_data","text":"n_subjects (positive integer) number subjects data need simulated n_cycles (positive integer(s)) number cycles subject. parameter (well following parameters) can length 1 (subjects number cycles) length n_subjects determine number cycles independently subject. baseline (positive values 1-6) Baseline levels severity problems subjects (baseline length 1) subject (baseline length n_subjects). pmdd_intensity change baseline pre-menstrual phase. n_items (positive integers 1-24) number items variation pre-menstrual phase. Can length 1 (n_items subjects) length n_subjects (specific n_items subject). missingness_rate (positive values 0-0.9) fraction missing days (length 1) (length n_subjects) subject.","code":""},{"path":"https://lasy.github.io/cpass/reference/simulate_cpass_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulates CPASS data — simulate_cpass_data","text":"data.frame providing DRSP scores subject, cycle, cycle day (within pre- post- menstrual phase) item.","code":""},{"path":[]},{"path":"https://lasy.github.io/cpass/reference/simulate_cycle.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulates CPASS data for a single cycle. — simulate_cycle","title":"Simulates CPASS data for a single cycle. — simulate_cycle","text":"function simulates DRSP data single cycle","code":""},{"path":"https://lasy.github.io/cpass/reference/simulate_cycle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulates CPASS data for a single cycle. — simulate_cycle","text":"","code":"simulate_cycle(cycle_nb, baseline, pmdd_intensity, items, missingness_rate)"},{"path":"https://lasy.github.io/cpass/reference/simulate_cycle.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulates CPASS data for a single cycle. — simulate_cycle","text":"cycle_nb (positive integer) cycle number. baseline (positive value 1-6) Baseline level severity problems items. pmdd_intensity change baseline pre-menstrual phase. items (positive integers 1-24) items variation pre-menstrual phase. missingness_rate (positive value 0-0.9) fraction missing days.","code":""},{"path":"https://lasy.github.io/cpass/reference/simulate_cycle.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulates CPASS data for a single cycle. — simulate_cycle","text":"data.frame providing DRSP scores cycle day (within pre- post- menstrual phase) item.","code":""},{"path":[]},{"path":"https://lasy.github.io/cpass/reference/supported_data_format.html","id":null,"dir":"Reference","previous_headings":"","what":"Supported data format for the as_cpass_data function. — supported_data_format","title":"Supported data format for the as_cpass_data function. — supported_data_format","text":"function prints (return) list format currently supported cpass package.","code":""},{"path":"https://lasy.github.io/cpass/reference/supported_data_format.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Supported data format for the as_cpass_data function. — supported_data_format","text":"","code":"supported_data_format(as_list = FALSE)"},{"path":"https://lasy.github.io/cpass/reference/supported_data_format.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Supported data format for the as_cpass_data function. — supported_data_format","text":"as_list (optional, default = FALSE) logical specifying supported format printed console returned list object.","code":""},{"path":"https://lasy.github.io/cpass/reference/supported_data_format.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Supported data format for the as_cpass_data function. — supported_data_format","text":"list as_list = TRUE.","code":""},{"path":"https://lasy.github.io/cpass/reference/supported_data_format.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Supported data format for the as_cpass_data function. — supported_data_format","text":"","code":"supported_data_format() #>  #> 1) CPASS FORMAT #>      columns:  cycle, day  #>      description: #>      *  cycle is the cycle number  #>      *  day is counted forward (1,2,3,...) for the post-menses phase; #>              backward (-1,-2,...) for the pre-menses one.  #>  #>  #> 2) FIRST DAY #>      columns:  date, is_cycle_start  #>      description: #>      *  `date` is an actual date #>           (use 'as.Date' to convert character strings to dates)  #>      *  `is_cycle_start` is a logical which is TRUE #>           if a menstrual cycle starts on the specified date.  #>"}]
